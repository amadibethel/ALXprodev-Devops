#!/bin/bash
# Script: data_extraction_automation-0x01
# Objective: Extract Pokémon details from data.json and print in human-readable form.

# Check if data.json exists
if [ ! -f data.json ]; then
  echo "Error: data.json not found! Please run apiAutomation-0x00 first."
  exit 1
fi

# Extract data using jq
name=$(jq -r '.name' data.json | sed 's/.*/\u&/')  # Capitalize first letter
height=$(jq -r '.height' data.json)
weight=$(jq -r '.weight' data.json)
type=$(jq -r '.types[0].type.name' data.json | sed 's/.*/\u&/')  # Capitalize

# Convert units:
# Pokémon height and weight are given in decimeters and hectograms
height_m=$(awk -v h="$height" 'BEGIN { printf "%.1f", h/10 }')  # decimeters → meters
weight_kg=$(awk -v w="$weight" 'BEGIN { printf "%.1f", w/10 }')  # hectograms → kilograms

# Display the result
echo "$name is of type $type, weighs ${weight_kg}kg, and is ${height_m}m tall."
